{"version": null, "code": "gASV0QcAAAAAAAAoQxJ0AGQBfA58EWQCjQMBAGQAUwCUKIwFaW5wdXSUjAZvdXRwdXSUjAZwYXJhbXOUjAl3aWxkY2FyZHOUjAd0aHJlYWRzlIwJcmVzb3VyY2VzlIwDbG9nlIwHdmVyc2lvbpSMBHJ1bGWUjAljb25kYV9lbnaUjA1jb250YWluZXJfaW1nlIwQc2luZ3VsYXJpdHlfYXJnc5SMD3VzZV9zaW5ndWxhcml0eZSMC2Vudl9tb2R1bGVzlIwMYmVuY2hfcmVjb3JklIwFam9iaWSUjAhpc19zaGVsbJSMD2JlbmNoX2l0ZXJhdGlvbpSMD2NsZWFudXBfc2NyaXB0c5SMCnNoYWRvd19kaXKUjA1lZGl0X25vdGVib29rlIwPY29uZGFfYmFzZV9wYXRolIwHYmFzZWRpcpSMGHJ1bnRpbWVfc291cmNlY2FjaGVfcGF0aJSMGF9faXNfc25ha2VtYWtlX3J1bGVfZnVuY5R0lF2UKE5YQwYAAAogICAgICAgICAgICAoCiAgICAgICAgICAgIGNwIHtpbnB1dC5qfSB7b3V0ZGlyfS91ZGFuY2UKICAgICAgICAgICAgaWYgWyAie3BhcmFtcy5zaXplfSIgPT0gImF1dG8iIF07IHRoZW4KICAgICAgICAgICAgICAgIG51bXE9YGdyZXAgIj4iIHtvdXRkaXJ9L3BsYWNlbWVudC9xdWVyeS5mYSAgfCB3YyAtbGAKICAgICAgICAgICAgICAgIG51bWJiPWBncmVwICI+IiB7b3V0ZGlyfS9wbGFjZW1lbnQvYmFja2JvbmUuZmEgIHwgd2MgLWxgCiAgICAgICAgICAgICAgICBjbHVzdHN6PWBweXRob24gLWMgImltcG9ydCBtYXRoOyBwcmludChpbnQobWluKDI1MDAscm91bmQoOCptYXRoLnNxcnQoJG51bWJiKSszKm1hdGguc3FydCgkbnVtcSksLTIpKSkpImAKICAgICAgICAgICAgICAgIGVjaG8gIkNsdXN0ZXIgc2l6ZSBpcyBzZXQgdG8gJGNsdXN0c3ogKGF1dG9tYXRpY2FsbHkpIgogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBjbHVzdHN6PSJ7cGFyYW1zLnNpemV9IgogICAgICAgICAgICAgICAgZWNobyAiQ2x1c3RlciBzaXplIGlzIHNldCB0byAkY2x1c3RzeiAodXNlci1jaG9pY2UpIgogICAgICAgICAgICBmaQogICAgICAgICAgICBpZiBbICJ7cGFyYW1zLmNoYXJ9IiA9PSAibnVjIiBdOyB0aGVuCiAgICAgICAgICAgICAgICBweXRob24gcnVuX3VkYW5jZS5weSBkZWNvbXBvc2UgLXMge2lucHV0LmluZH0gLW8ge291dGRpcn0vdWRhbmNlIC10ICRjbHVzdHN6IC1qIHtpbnB1dC5qfSAgICAgICAgICAgICAgICAgLW0ge3BhcmFtcy5tZXRob2R9IC1UIHtyZXNvdXJjZXMuY3B1c30gLWwge3BhcmFtcy5zdWJ9IC1mIHtwYXJhbXMuZnJhZ30gLWUge3BhcmFtcy5lZGd9ICAgICAgICAgICAgICAgICAtLW1pbnBsYWNlbWVudHMge3BhcmFtcy5tcHN9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHB5dGhvbiBydW5fdWRhbmNlLnB5IGRlY29tcG9zZSAtcCAtcyB7aW5wdXQuaW5kfSAtbyB7b3V0ZGlyfS91ZGFuY2UgLXQgJGNsdXN0c3ogLWoge2lucHV0Lmp9ICAgICAgICAgICAgICAgICAtbSB7cGFyYW1zLm1ldGhvZH0gLVQge3Jlc291cmNlcy5jcHVzfSAtbCB7cGFyYW1zLnN1Yn0gLWYge3BhcmFtcy5mcmFnfSAtZSB7cGFyYW1zLmVkZ30gICAgICAgICAgICAgICAgIC0tbWlucGxhY2VtZW50cyB7cGFyYW1zLm1wc30KICAgICAgICAgICAgZmkKICAgICAgICAgICAgcHl0aG9uIHBydW5lX3NpbWlsYXIucHkgLVQge3Jlc291cmNlcy5jcHVzfSAtbyB7b3V0ZGlyfS91ZGFuY2UgLVMge3BhcmFtcy5wcmF9CiAgICAgICAgICAgIGlmIFsgIC1mIHtvdXRkaXJ9L3VkYW5jZS9kZWR1cGVfbWFwLnR4dCBdOyB0aGVuIAogICAgICAgICAgICAgICAgY2F0IHtvdXRkaXJ9L3VkYW5jZS9kZWR1cGVfbWFwLnR4dCA+IHtvdXRkaXJ9L2RlZHVwZV9tYXAudHh0IAogICAgICAgICAgICBmaSAKICAgICAgICAgICAgaWYgWyAtZiB7b3V0ZGlyfS9ybV9tYXAudHh0IF07IHRoZW4gCiAgICAgICAgICAgICAgICBjYXQge291dGRpcn0vcm1fbWFwLnR4dCA+PiB7b3V0ZGlyfS9kZWR1cGVfbWFwLnR4dCAKICAgICAgICAgICAgZmkKICAgICAgICAgICAgKSA+PiB7dWRhbmNlX2xvZ3BhdGh9IDI+JjEKICAgICAgICCUaA9oEoaUZYwFc2hlbGyUhZR0lC4=", "rule": "decompose", "input": ["/data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/placement.jplace", "/data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/trimmed"], "log": [], "params": ["'nuc'", "'raxml-ng'", "0", "0.02", "150", "300", "500", "9000"], "shellcmd": "\n            (\n            cp /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/placement.jplace /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/udance\n            if [ \"500\" == \"auto\" ]; then\n                numq=`grep \">\" /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/placement/query.fa  | wc -l`\n                numbb=`grep \">\" /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/placement/backbone.fa  | wc -l`\n                clustsz=`python -c \"import math; print(int(min(2500,round(8*math.sqrt($numbb)+3*math.sqrt($numq),-2))))\"`\n                echo \"Cluster size is set to $clustsz (automatically)\"\n            else\n                clustsz=\"500\"\n                echo \"Cluster size is set to $clustsz (user-choice)\"\n            fi\n            if [ \"nuc\" == \"nuc\" ]; then\n                python run_udance.py decompose -s /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/trimmed -o /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/udance -t $clustsz -j /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/placement.jplace                 -m raxml-ng -T 32 -l 300 -f 150 -e 0.02                 --minplacements 0\n            else\n                python run_udance.py decompose -p -s /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/trimmed -o /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/udance -t $clustsz -j /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/placement.jplace                 -m raxml-ng -T 32 -l 300 -f 150 -e 0.02                 --minplacements 0\n            fi\n            python prune_similar.py -T 32 -o /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/udance -S 9000\n            if [  -f /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/udance/dedupe_map.txt ]; then \n                cat /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/udance/dedupe_map.txt > /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/dedupe_map.txt \n            fi \n            if [ -f /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/rm_map.txt ]; then \n                cat /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/rm_map.txt >> /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/output/dedupe_map.txt \n            fi\n            ) >> /data/genome/run/snyoo/00_Projects/TM_microbiome_script/phylogenetic_pipeline/bacteria/out/refine/udance.log 2>&1\n        ", "incomplete": false, "starttime": 1742800607.296171, "endtime": 1742800661.865816, "job_hash": 8745052948586, "conda_env": null, "container_img_url": null, "input_checksums": {}}